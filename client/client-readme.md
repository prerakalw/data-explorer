# MCP Command Line Client for Oracle Configuration Analysis

This is a command-line client for testing and interacting with the Oracle Configuration Analysis MCP server. It provides an interactive shell for executing tools, getting prompts, and reading resources.

## Installation

1. Install dependencies:
```bash
pip install -r client_requirements.txt
```

2. Run the client:
```bash
python mcp_client.py --server /path/to/mcp_oracle_config_server.py \
  --host your-oracle-host \
  --port 1521 \
  --service-name ORCL \
  --user your-username \
  --password your-password
```

## Available Commands

- `help` - Show help information
- `exit` - Exit the client
- `list resources` - List available resources
- `list tools` - List available tools  
- `list prompts` - List available prompts
- `execute <tool> [json]` - Execute a tool with optional JSON arguments
- `prompt <name> [json]` - Get a prompt with optional JSON arguments
- `resource <uri>` - Read a resource by URI

## Examples

### List available tools:
```
mcp> list tools
```

### Execute a SQL query:
```
mcp> execute execute_query {"query": "SELECT * FROM APP_CONFIG WHERE ROWNUM <= 10"}
```

### Analyze configurations across tenants:
```
mcp> execute analyze_configurations {"table_name": "APP_CONFIG", "tenant_column": "COMPANY_ID", "config_columns": ["SETTING_A", "SETTING_B"]}
```

### Find configuration deviations:
```
mcp> execute find_deviations {"table_name": "APP_CONFIG", "config_column": "SETTING_VALUE", "threshold": 20}
```

### Create a chart:
```
mcp> execute create_chart {"query": "SELECT SETTING_NAME, COUNT(*) as USAGE_COUNT FROM APP_CONFIG GROUP BY SETTING_NAME", "chart_type": "bar", "x_column": "SETTING_NAME", "y_column": "USAGE_COUNT", "title": "Configuration Usage"}
```

### Get configuration similarity prompt:
```
mcp> prompt config_similarity {"table_name": "APP_CONFIG"}
```

### Read a resource:
```
mcp> resource oracle://config/app_config
```

## Features

- Tab completion for commands
- Pretty-printed JSON output with syntax highlighting
- Rich formatting for tables and text
- Interactive prompts for missing arguments
- Automatic server process management

## Notes

- The client will start the MCP server automatically when launched
- All queries are read-only for data safety
- Images generated by the chart tool are returned as base64 data
- Use Ctrl+C to interrupt long-running operations
- Use Ctrl+D or type 'exit' to quit the client
